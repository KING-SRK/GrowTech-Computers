<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>C V Resume</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="../digital solution css/college.css" />
    <link rel="stylesheet" href="../css/popup.css" />

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  </head>
  <body>
    <button class="fixed-back-btn" onclick="history.back()">
      <i class="ri-arrow-left-s-line"></i>
    </button>

    <h1 class="title" style="font-size: 24px;">CV / Resume Preparation Service</h1>

    <div class="box">
      <div class="left">
        <div class="image-slider">
          <div class="slides">
            <img src="../images png/rasume-img1.png" alt="Slide 1" />
            <img src="../images png/rasume-img2.png" alt="Slide 2" />
            <img src="../images png/rasume-img3.png" alt="Slide 3" />
            <img src="../images png/rasume-img4.png" alt="Slide 4" />
          </div>
        </div>

        <div class="submit-note highlight-important">
          üìù <strong>Note:</strong> Fill the exact details below carefully.
        </div>
      </div>

      <div class="right-content">
        <form id="cv-resume-form">
          <div class="card">
            <div class="form-section">
              <h2 style="font-size: 18px">Your Details</h2>

              <div class="details-section">
                <label for="personal-full-name">Full Name</label>
                <input
                  type="text"
                  id="personal-full-name"
                  name="full-name"
                  placeholder="Enter Full Name"
                  required
                />
              </div>
            </div>

            <div class="form-section">
              <h2 style="font-size: 18px">Contact Details</h2>

              <div class="details-section">
                <label for="mobile-number">Mobile Number</label>
                <div style="margin-bottom: 5px"></div>

                <input
                  type="tel"
                  id="mobile-number"
                  name="mobile-number"
                  placeholder="Enter 10-digit Mobile Number"
                  pattern="[0-9]{10}"
                  maxlength="10"
                  required
                />

                <label for="email-id">Email ID</label>
                <div style="margin-bottom: 5px"></div>

                <input
                  type="email"
                  id="email-id"
                  name="email-id"
                  placeholder="Enter Email ID"
                  required
                />
              </div>
            </div>

            <div class="submit-container">
              <button type="submit">Submit Request</button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <script src="../js/popup.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyDI8FxDlILMR93AD69_E48qwMKJuSUqFXg",
        authDomain: "digital-solutions-ae7ad.firebaseapp.com",
        databaseURL:
          "https://digital-solutions-ae7ad-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "digital-solutions-ae7ad",
        storageBucket: "digital-solutions-ae7ad.appspot.com",
        messagingSenderId: "761041929019",
        appId: "1:761041929019:web:d228c928c6bd40ea4fed1e",
      };

      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();

      document
        .getElementById("cv-resume-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // ** ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶®‡¶æ‡¶Æ, ‡¶´‡ßã‡¶® ‡¶ì ‡¶á‡¶Æ‡ßá‡¶≤ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá **
          const personalFullName =
            document.getElementById("personal-full-name").value;
          const mobileNumber = document.getElementById("mobile-number").value;
          const emailId = document.getElementById("email-id").value;

          // ** Changes to save data by date **
          const today = new Date().toISOString().split("T")[0]; // yyyy-mm-dd

          // ** ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶°‡ßá‡¶ü‡¶æ Firebase-‡¶è ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá **
          const formData = {
            formType: "CVResumeRequest", // ‚úÖ ‡¶´‡¶∞‡ßç‡¶Æ‡ßá‡¶∞ ‡¶ß‡¶∞‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
            personalDetails: {
              fullName: personalFullName,
            },
            contactDetails: {
              mobile: mobileNumber,
              email: emailId,
            },
            timestamp: new Date().toISOString(),
          };

          // ‚úÖ Firebase ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá‡¶∞ ‡¶™‡¶æ‡¶• ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá "cvResumeRequests" ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã
          database
            .ref("cvResumeRequests/" + today)
            .push(formData)
            .then(() => {
              document.getElementById("cv-resume-form").reset();

              showPopup(
                "‚úÖ Request Submitted",
                "We have received your CV/Resume request. Our team will call you shortly to collect your professional details."
              );
            })
            .catch((error) => {
              alert("‚ùå Error: " + error.message);
            });
        });
    </script>

    <script src="../js/slider.js"></script>
  </body>
</html>
